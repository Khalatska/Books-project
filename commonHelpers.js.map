{"version":3,"file":"commonHelpers.js","sources":["../src/js/API.js","../src/img/barnes-and-noble.png","../src/img/books-a-million.png","../src/img/bookshop.png","../src/img/indiebound.png","../src/js/modal-window.js","../src/js/best-sellers.js","../src/js/categories.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books';\n\nexport async  function getCategoriesBooks(){\n    const res = await axios.get('/category-list');\n    return res.data;\n}\n\nexport async function getTopBooks(){\n    const res = await axios.get('/top-books');\n    return res.data;\n}\n\nexport async function getBooksByCategory (category){\n    const res = await axios.get(`/category?category=${category}`);\n    return res.data;\n}\n\nexport async function getBookById(bookId){\n    const res = await axios.get(`/${bookId}`);\n    return res.data;\n}\n\n \n ","export default \"__VITE_ASSET__de2a8653__\"","export default \"__VITE_ASSET__135521b7__\"","export default \"__VITE_ASSET__98e72c86__\"","export default \"__VITE_ASSET__9d5608fc__\"","import { getBookById } from './API';\n\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nimport amazon from '../img/amazon1.png';\nimport apple from '../img/apple-books.png';\nimport noble from '../img/barnes-and-noble.png';\nimport booksMillion from '../img/books-a-million.png';\nimport bookshop from '../img/bookshop.png';\nimport indie from '../img/indiebound.png';\n\nconst localeStorageKey = 'shopping-list';\nexport default localeStorageKey;\n\nconst addedBooks = loadFromLs(localeStorageKey) || [];\n\nexport const onClickGalleryImg = async event => {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') return;\n\n  const id = event.target.dataset.id;\n  const data = await getBookById(id);\n\n  createModalWindow(data);\n\n  const addBtn = document.querySelector('.addBtn');\n  addBtn.addEventListener('click', refreshLS(data));\n\n  if (addedBooks.length > 0) {\n    const isBookAdded = addedBooks.some(book => id === book._id);\n    if (isBookAdded) {\n      addBtn.textContent = 'Remove from the shopping list';\n      addBtn.classList.add('mobileWidth');\n    } else {\n      addBtn.textContent = 'Add to shopping list';\n    }\n  }\n};\n\nconst refreshLS = data => e => {\n  e.preventDefault();\n  if (e.target.textContent === 'Remove from the shopping list') {\n    e.target.textContent = 'Add to shopping list';\n    e.target.classList.remove('mobileWidth');\n\n    const indexToRemove = addedBooks.findIndex(book => book._id === data._id);\n    addedBooks.splice(indexToRemove, 1);\n    removeCongratulation();\n  } else {\n    e.target.textContent = 'Remove from the shopping list';\n    e.target.classList.add('mobileWidth');\n    addedBooks.push(data);\n    addCongratulation();\n  }\n  localStorage.setItem(localeStorageKey, JSON.stringify(addedBooks));\n};\n\nfunction loadFromLs(key) {\n  const data = localStorage.getItem(key);\n\n  try {\n    const result = JSON.parse(data);\n    return result;\n  } catch {\n    return data;\n  }\n}\n\nfunction createModalWindow({\n  book_image,\n  title,\n  author,\n  description,\n  buy_links,\n}) {\n  if (description === '') {\n    description = 'Book description has not been added yet...';\n  }\n\n  const instance = basicLightbox.create(\n    `<div class=\"modal\"> \n <button type=\"button\" class=\"modal-close-btn\">\n<svg class=\"icon-burger\">\n<use href=\"./img/sprite.svg#icon-x-close\"></use>\n</svg>\n</button>\n<div class=\"img-container\">\n<div class=\"img-top-container\"> \n<img src=\"${book_image}\" alt=\"${title}\" class=\"img-modal\"/>\n</div>\n<div class=\"img-bottom-container\">\n<h2 class=\"title-modal\">${title}</h2>\n<p class=\"author-modal\">${author}</p>\n<p class=\"description-modal\">${description}</p>\n<ul class=\"buy-links-container\"></ul>\n</div>\n</div>\n<button class=\"addBtn\" type=\"submit\">Add to shopping list</button>\n</div>\n`,\n    {\n      onShow: instance => {\n        document.body.style.overflow = 'hidden';\n\n        const closeBtn = instance.element().querySelector('.modal-close-btn');\n        closeBtn.onclick = () => instance.close();\n      },\n      onClose: instance => {\n        document.body.style.overflow = 'visible';\n      },\n    }\n  );\n\n  const linkContainers = instance\n    .element()\n    .querySelector('.buy-links-container');\n\n  searchBookShops({ buy_links, book_image, title, author }, linkContainers);\n\n  instance.show();\n\n  document.addEventListener('keydown', pressEscapeKey);\n\n  function pressEscapeKey(e) {\n    if (e.key === 'Escape') {\n      instance.close();\n      document.removeEventListener('keydown', pressEscapeKey);\n    }\n  }\n}\n\nfunction searchBookShops(\n  { buy_links, book_image, title, author },\n  linkContainers\n) {\n  buy_links.forEach(link => {\n    const itemShop = document.createElement('li');\n    linkContainers.appendChild(itemShop);\n    const linkShop = document.createElement('a');\n    itemShop.appendChild(linkShop);\n    const imgShop = document.createElement('img');\n    linkShop.appendChild(imgShop);\n\n    linkShop.target = '_blank';\n    imgShop.alt = link.name + ' Icon';\n    imgShop.className = 'img-shop';\n    itemShop.className = 'item-shop';\n\n    const url = `${book_image}`;\n    const fileName = url.split('/').pop();\n    const fileNameWithoutExtension = fileName.split('.')[0];\n\n    switch (link.name) {\n      case 'Amazon':\n        linkShop.href = link.url;\n        imgShop.src = amazon;\n        break;\n      case 'Apple Books':\n        linkShop.href = link.url;\n        imgShop.src = apple;\n        imgShop.className = 'booksIconApple';\n        break;\n      case 'Barnes and Noble':\n        linkShop.href = link.url;\n        imgShop.src = noble;\n        break;\n      case 'Books-A-Million':\n        linkShop.href = `https://www.booksamillion.com/p/${title}/${author}/${fileNameWithoutExtension}`;\n        imgShop.src = booksMillion;\n        break;\n      case 'Bookshop':\n        linkShop.href = `https://bookshop.org/search?keywords=${fileNameWithoutExtension}`;\n        imgShop.src = bookshop;\n        break;\n      default:\n        linkShop.href = `https://bookshop.org/p/books/atomic-habits-an-easy-proven-way-to-build-good-habits-break-bad-ones-james-clear/12117739?ean=${fileNameWithoutExtension}`;\n        imgShop.src = indie;\n        break;\n    }\n  });\n}\n\nfunction addCongratulation() {\n  const modalElem = document.querySelector('.modal');\n  const congratulation = document.createElement('p');\n  congratulation.className = 'congratulation';\n  congratulation.textContent =\n    'Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n  modalElem.appendChild(congratulation);\n}\n\nfunction removeCongratulation() {\n  const congratulation = document.querySelector('.congratulation');\n  if (congratulation) congratulation.remove();\n}\n","import { getTopBooks } from './API';\nimport { getBooksByCategory } from './API';\nimport { onClickGalleryImg } from './modal-window';\n\nconst bestBooksContainer = document.querySelector('.best-books-container');\n\nfetchBooks();\naddListenerToCards();\n\nexport async function fetchBooks() {\n  try {\n    const result = await getTopBooks();\n    renderBestBooks(result);\n  } catch (error) {\n    console.log('Error with your API');\n  }\n}\n\nfunction renderBestBooks(result) {\n  bestBooksContainer.insertAdjacentHTML(\n    'afterbegin',\n    `\n        <h1 class=\"best-sellers-title\">Best Sellers <span class=\"accent-books\">Books</span></h1>\n        <ul class=\"best-sellers-books\"></ul>\n    `\n  );\n  const bestBooksList = document.querySelector('.best-sellers-books');\n\n  if (result.length === 0) {\n    bestBooksList.innerHTML = `<p>No popular books found</p>`;\n  } else {\n    result.forEach(book => {\n      const markup = createBooksCard(book);\n      bestBooksList.insertAdjacentHTML('beforeend', markup);\n    });\n\n    const btnSeeMore = document.querySelectorAll('.btn-see-more');\n    btnSeeMore.forEach(btn => {\n      btn.addEventListener('click', handleSeeMore);\n    });\n  }\n}\n\nfunction createBooksCard(category) {\n  const bookItem = category.books.map(book => createBookCard(book)).join('');\n  return `<li class=\"best-category\">\n    <p class=\"best-category-name\">${category.list_name}</p>\n    <ul class=\"best-book-list\">${bookItem}</ul>\n    <button value=\"${category.list_name}\" type=\"button\" class=\"btn-see-more\">See more</button>\n    </li>`;\n}\n\nfunction createBookCard({ book_image, title, _id, author }) {\n  return ` <li class=\"best-book-item\">\n    <div class=\"overlay-container\"> \n    <img src=\"${book_image}\" alt=\"${title}\" data-id=\"${_id}\" class=\"best-book-img\" width=\"375\" height=\"485\"/>\n    <p class=\"overlay\">Quick view</p>\n    </div>\n    <h2 class=\"best-book-title\">${sliceTitle(16, title)}</h2>\n    <p class=\"best-book-author\">${author}</p>\n    </li>\n    `;\n}\n\nfunction sliceTitle(length, title) {\n  if (title.length > length) {\n    return title.slice(0, length) + '...';\n  } else {\n    return title;\n  }\n}\n\nasync function handleSeeMore(e) {\n  e.preventDefault();\n  const books = await getBooksByCategory(e.target.value);\n  const targetTitle = changeColor(e.target.value);\n  const markupBooks = books.map(book => createBookCard(book)).join('');\n\n  bestBooksContainer.innerHTML = `\n        <h2 class=\"selected-category-title\">${targetTitle}</h2>\n        <ul class=\"book-list-category\">${markupBooks}</ul>\n    `;\n\n  const listFiveElem = document.querySelectorAll('.best-book-item ');\n  listFiveElem.forEach(elemList => elemList.classList.add('display-five'));\n\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n  const categoriesItems = document.querySelectorAll('.item-categories');\n  categoriesItems.forEach(item => {\n    item.textContent === e.target.value\n      ? item.classList.add('active')\n      : item.classList.remove('active');\n  });\n}\n\nfunction changeColor(name) {\n  const splitName = name.split(' ');\n  const lastWord = splitName[splitName.length - 1];\n  const withoutLastWord = splitName.slice(0, -1);\n  const firstWords = withoutLastWord.join(' ');\n\n  return `${firstWords} <span class=\"accent-books\">${lastWord}</span>`;\n}\n\nfunction addListenerToCards() {\n  bestBooksContainer.addEventListener('click', function (event) {\n    if (event.target.classList.contains('best-book-img')) {\n      onClickGalleryImg(event);\n    }\n  });\n}\n","import { getCategoriesBooks } from './API';\nimport { getBooksByCategory } from './API';\nimport { fetchBooks } from './best-sellers';\nimport { onClickGalleryImg } from './modal-window';\nconst listCategories = document.querySelector('.list-categories');\n\n//Відмалювали категорії\n\ncategoriesData();\n\nasync function categoriesData() {\n  try {\n    const result = await getCategoriesBooks();\n    const sorted = result.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n    const list = categoriesTemplate(sorted);\n    listCategories.insertAdjacentHTML('beforeend', list);\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n  }\n}\n\nfunction categoryTemplate({ list_name }) {\n  const markup = `\n     <li class=\"item-categories\">${list_name}</li>\n    `;\n  return markup;\n}\n\nfunction categoriesTemplate(res) {\n  const markup = res.map(categoryTemplate).join('');\n  return markup;\n}\n\n//Виділяємо обрану категорію і робимо розмімтку для неї\n\nconst bestBooksContainer = document.querySelector('.best-books-container');\nconst firstItemCategory = document.querySelector('.item-categories');\nfirstItemCategory.classList.add('active');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  if (listCategories) {\n    listCategories.addEventListener('click', event => {\n      const clickedCategory = event.target.closest('.item-categories');\n      if (!clickedCategory) return;\n\n      bestBooksContainer.replaceChildren();\n      bestBooksContainer.insertAdjacentHTML(\n        'afterbegin',\n        `\n          <h2 class=\"selected-category-title\"> <span class=\"selected-category-accent\"></span></h2>\n          <ul class=\"book-list-category\"></ul>\n        `\n      );\n\n      const bookListCategory = document.querySelector('.book-list-category');\n      bookListCategory.addEventListener('click', onClickGalleryImg);\n\n      let category = clickedCategory.textContent.trim();\n      if (category === 'All Categories') {\n        fetchBooks();\n        if (window.innerWidth < 768) {\n          window.scrollTo({ top: 2000, behavior: 'smooth' });\n        }\n      } else {\n        displayBooks(category);\n      }\n\n      if (window.innerWidth < 768) {\n        window.scrollTo({ top: 2000, behavior: 'smooth' });\n      }\n\n      document.querySelectorAll('.item-categories').forEach(category => {\n        category.classList.remove('active');\n      });\n      clickedCategory.classList.add('active');\n    });\n  } else {\n    console.error('Element with id \"categoryList\" not found');\n  }\n});\n\nasync function displayBooks(category) {\n  const bookListCategory = document.querySelector('.book-list-category');\n  bookListCategory.innerHTML = '';\n\n  const books = await getBooksByCategory(category);\n  const booksMarkup = books\n    .map(book => {\n      return ` <li class=\"selected-item-category\">\n    <div class=\"overlay-container\"> \n    <img src=\"${book.book_image}\" alt=\"${book.title}\" data-id=\"${\n        book._id\n      }\" class=\"selected-category-img-mob\"/>\n    <p class=\"overlay\">Quick view</p>\n    </div>\n    <h3 class=\"category-title\">${sliceTitle(16, book.title)}</h3>\n    <p class=\"selected-category-text\">${book.author}</p>\n    </li>\n    `;\n    })\n    .join('');\n  bookListCategory.insertAdjacentHTML('afterbegin', booksMarkup);\n\n  const categorySplit = category.split(' ');\n  const lastWord = categorySplit[categorySplit.length - 1];\n  const titleAccentCategory = document.querySelector(\n    '.selected-category-accent'\n  );\n  titleAccentCategory.textContent = lastWord;\n  const titleCategory = document.querySelector('.selected-category-title');\n  const withoutLastWord = categorySplit.slice(0, -1);\n  const firstWords = withoutLastWord.join(' ');\n  titleCategory.insertAdjacentHTML('afterbegin', firstWords);\n}\n\nfunction sliceTitle(length, title) {\n  if (title.length > length) {\n    return title.slice(0, length) + '...';\n  } else {\n    return title;\n  }\n}\n"],"names":["axios","getCategoriesBooks","getTopBooks","getBooksByCategory","category","getBookById","bookId","noble","booksMillion","bookshop","indie","localeStorageKey","addedBooks","loadFromLs","onClickGalleryImg","event","id","data","createModalWindow","addBtn","refreshLS","book","e","indexToRemove","removeCongratulation","addCongratulation","key","book_image","title","author","description","buy_links","instance","basicLightbox.create","closeBtn","linkContainers","searchBookShops","pressEscapeKey","link","itemShop","linkShop","imgShop","fileNameWithoutExtension","amazon","apple","modalElem","congratulation","bestBooksContainer","fetchBooks","addListenerToCards","result","renderBestBooks","bestBooksList","markup","createBooksCard","btn","handleSeeMore","bookItem","createBookCard","_id","sliceTitle","length","books","targetTitle","changeColor","markupBooks","elemList","item","name","splitName","lastWord","listCategories","categoriesData","sorted","a","b","list","categoriesTemplate","error","categoryTemplate","list_name","res","firstItemCategory","clickedCategory","displayBooks","bookListCategory","booksMarkup","categorySplit","titleAccentCategory","titleCategory","firstWords"],"mappings":"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"}