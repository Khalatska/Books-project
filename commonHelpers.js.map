{"version":3,"file":"commonHelpers.js","sources":["../src/js/API.js","../src/img/barnes-and-noble.png","../src/img/books-a-million.png","../src/img/bookshop.png","../src/img/indiebound.png","../src/js/modal-window.js","../src/js/best-sellers.js","../src/js/categories.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books';\n\nexport async  function getCategoriesBooks(){\n    const res = await axios.get('/category-list');\n    return res.data;\n}\n\nexport async function getTopBooks(){\n    const res = await axios.get('/top-books');\n    return res.data;\n}\n\nexport async function getBooksByCategory (category){\n    const res = await axios.get(`/category?category=${category}`);\n    return res.data;\n}\n\nexport async function getBookById(bookId){\n    const res = await axios.get(`/${bookId}`);\n    return res.data;\n}\n\n \n ","export default \"__VITE_ASSET__de2a8653__\"","export default \"__VITE_ASSET__135521b7__\"","export default \"__VITE_ASSET__98e72c86__\"","export default \"__VITE_ASSET__9d5608fc__\"","import {getBookById} from './API'\n\nimport * as basicLightbox from 'basiclightbox'\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nimport amazon from '../img/amazon1.png';\nimport apple from '../img/apple-books.png';\nimport noble from '../img/barnes-and-noble.png';\nimport booksMillion from '../img/books-a-million.png';\nimport bookshop from '../img/bookshop.png';\nimport indie from '../img/indiebound.png';\n\n\nconst localeStorageKey = 'shopping-list';\nexport default localeStorageKey;\n\nconst addedBooks = loadFromLs(localeStorageKey) || [];\n\nexport const onClickGalleryImg = async event => {\n    event.preventDefault();\n\n    if(event.target.nodeName !== 'IMG') return;\n\n\n    const id = event.target.dataset.id;\n    const data = await getBookById(id);\n\ncreateModalWindow(data);\n\nconst addBtn = document.querySelector('.addBtn');\naddBtn.addEventListener('click', refreshLS(data));\n\nif(addedBooks.length > 0){\n    const isBookAdded = addedBooks.some( book => id === book._id);\n    if(isBookAdded){\n        addBtn.textContent = 'Remove from the shopping list';\n        addBtn.classList.add('mobileWidth')\n    } else { addBtn.textContent = 'Add to shopping list'}\n}\n\n}\n\n\nconst refreshLS = data => e => {\n    e.preventDefault();\n    if(e.target.textContent === 'Remove from the shopping list'){\n        e.target.textContent = 'Add to shopping list';\n        e.target.classList.remove('mobileWidth');\n    \n        const indexToRemove = addedBooks.findIndex(book => book._id === data._id);\n        addedBooks.splice(indexToRemove, 1);\n        removeCongratulation();\n        // removeBookMessage();\n    } else {\n        e.target.textContent = 'Remove from the shopping list';\n        e.target.classList.add('mobileWidth');\n        addedBooks.push(data);\n        addCongratulation();\n        // addBookMessage();\n    } \n    localStorage.setItem(localeStorageKey, JSON.stringify(addedBooks))\n    };\n\n\nfunction loadFromLs (key){\n    const data = localStorage.getItem(key);\n\n    try{\n        const result = JSON.parse(data);\n        return result;\n    } catch{\n        return data;\n    }\n}\n\n\n\n\nfunction createModalWindow ({book_image,  title, author, description, buy_links,}){\n\n    if(description === ''){ description = 'Book description has not been added yet...'};\n\n    const instance = basicLightbox.create(\n`<div class=\"modal\"> \n <button type=\"button\" class=\"modal-close-btn\">\n<svg class=\"modal-close-icon\">\n<use href=\"./img/sprite.svg#icon-close-modal\"></use>\n</svg>\n</button>\n<div class=\"img-container\">\n<div class=\"img-top-container\"> \n<img src=\"${book_image}\" alt=\"${title}\" class=\"img-modal\"/>\n</div>\n<div class=\"img-bottom-container\">\n<h2 class=\"title-modal\">${title}</h2>\n<p class=\"author-modal\">${author}</p>\n<p class=\"description-modal\">${description}</p>\n<ul class=\"buy-links-container\"></ul>\n</div>\n</div>\n<button class=\"addBtn\" type=\"submit\">Add to shopping list</button>\n</div>\n`, {\n     onShow: instance => {\n        document.body.style.overflow = 'hidden';\n\n        const closeBtn = instance.element().querySelector('.modal-close-btn');\n        closeBtn.onclick = () => instance.close();\n     }\n     ,\n     onClose: instance => {\n        document.body.style.overflow = 'visible';\n     }\n    }\n    );\n\n const linkContainers = instance.element().querySelector('.buy-links-container');\n\n searchBookShops({buy_links, book_image, title, author}, linkContainers);\n\n instance.show();\n\n document.addEventListener('keydown', pressEscapeKey);\n\n function pressEscapeKey (e){\n   if(e.key === 'Escape'){\n    instance.close();\n    document.removeEventListener('keydown', pressEscapeKey);\n   }\n }\n\n}\n\n\n\n\n\nfunction searchBookShops({buy_links, book_image, title, author}, linkContainers){\n\nbuy_links.forEach( link =>{\n const itemShop =  document.createElement('li');\n linkContainers.appendChild(itemShop);\n const linkShop = document.createElement('a');\n itemShop.appendChild(linkShop);\n const imgShop = document.createElement('img');\n linkShop.appendChild(imgShop);\n\n linkShop.target = '_blank';\n imgShop.alt = link.name + ' Icon';\n imgShop.className = 'img-shop';\n itemShop.className = 'item-shop';\n\n const url = `${book_image}`;\n const fileName = url.split('/').pop();\n const fileNameWithoutExtension = fileName.split('.')[0];\n\nswitch(link.name) {\n    case 'Amazon' :\n        linkShop.href = link.url;\n        imgShop.src = amazon;\n        break;\n    case 'Apple Books':\n        linkShop.href = link.url;\n        imgShop.src = apple;\n        imgShop.className = 'booksIconApple';\n        break;\n    case 'Barnes and Noble':\n        linkShop.href = link.url;\n        imgShop.src = noble;\n        break;\n    case 'Books-A-Million':\n        linkShop.href = `https://www.booksamillion.com/p/${title}/${author}/${fileNameWithoutExtension}`;\n        imgShop.src = booksMillion;\n        break;\n    case 'Bookshop':\n        linkShop.href = `https://bookshop.org/search?keywords=${fileNameWithoutExtension}`;\n        imgShop.src = bookshop;\n        break;\n    default:\n        linkShop.href = `https://bookshop.org/p/books/atomic-habits-an-easy-proven-way-to-build-good-habits-break-bad-ones-james-clear/12117739?ean=${fileNameWithoutExtension}`;\n        imgShop.src = indie;\n        break;\n}\n})\n}\n\nfunction addCongratulation(){\n    const modalElem = document.querySelector('.modal');\n   const congratulation = document.createElement('p');\n   congratulation.className = 'congratulation';\n   congratulation.textContent = 'Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.';\n   modalElem.appendChild(congratulation);\n}\n\nfunction removeCongratulation(){\n    const congratulation = document.querySelector('.congratulation');\n    if(congratulation) congratulation.remove();\n}","import { getTopBooks } from './API';\nimport { getBooksByCategory } from './API';\nimport { onClickGalleryImg } from './modal-window';\n\nconst bestBooksContainer = document.querySelector('.best-books-container');\n\nrenderBestBooks();\naddListenerToCards();\n\nexport async function renderBestBooks() {\n  bestBooksContainer.insertAdjacentHTML(\n    'afterbegin',\n    `\n        <h1 class=\"best-sellers-title\">Best Sellers <span class=\"accent-books\">Books</span></h1>\n        <ul class=\"best-sellers-books\"></ul>\n    `\n  );\n  const bestBooksList = document.querySelector('.best-sellers-books');\n\n  try {\n    const result = await getTopBooks();\n\n    if (result.length === 0) {\n      bestBooksList.innerHTML = `<p>No popular books found</p>`;\n    } else {\n      result.forEach(book => {\n        const markup = createBooksCard(book);\n        bestBooksList.insertAdjacentHTML('beforeend', markup);\n      });\n\n      const btnSeeMore = document.querySelectorAll('.btn-see-more');\n      btnSeeMore.forEach(btn => {\n        btn.addEventListener('click', handleSeeMore);\n      });\n    }\n  } catch (error) {\n    console.error('Error fetching top books:', error);\n  }\n}\n\nfunction createBooksCard(category) {\n  const bookItem = category.books.map(book => createBookCard(book)).join('');\n  return `<li class=\"best-category\">\n    <p class=\"best-category-name\">${category.list_name}</p>\n    <ul class=\"best-book-list\">${bookItem}</ul>\n    <button value=\"${category.list_name}\" type=\"button\" class=\"btn-see-more\">See more</button>\n    </li>`;\n}\n\nfunction createBookCard({ book_image, title, _id, author }) {\n  return ` <li class=\"best-book-item\">\n    <div class=\"overlay-container\"> \n    <img src=\"${book_image}\" alt=\"${title}\" data-id=\"${_id}\" class=\"best-book-img\" width=\"375\" height=\"485\"/>\n    <p class=\"overlay\">Quick view</p>\n    </div>\n    <h2 class=\"best-book-title\">${sliceTitle(16, title)}</h2>\n    <p class=\"best-book-author\">${author}</p>\n    </li>\n    `;\n}\n\nfunction sliceTitle(length, title) {\n  if (title.length > length) {\n    return title.slice(0, length) + '...';\n  } else {\n    return title;\n  }\n}\n\nasync function handleSeeMore(e) {\n  e.preventDefault();\n  const books = await getBooksByCategory(e.target.value);\n  const targetTitle = changeColor(e.target.value);\n  const markupBooks = books.map(book => createBookCard(book)).join('');\n\n  bestBooksContainer.innerHTML = `\n        <h2 class=\"selected-category-title\">${targetTitle}</h2>\n        <ul class=\"book-list-category\">${markupBooks}</ul>\n    `;\n\n  const listFiveElem = document.querySelectorAll('.best-book-item ');\n  listFiveElem.forEach(elemList => elemList.classList.add('display-five'));\n\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n  const categoriesItems = document.querySelectorAll('.item-categories');\n  categoriesItems.forEach(item => {\n    item.textContent === e.target.value\n      ? item.classList.add('active')\n      : item.classList.remove('active');\n  });\n}\n\nfunction changeColor(name) {\n  const splitName = name.split(' ');\n  const lastWord = splitName[splitName.length - 1];\n  const withoutLastWord = splitName.slice(0, -1);\n  const firstWords = withoutLastWord.join(' ');\n\n  return `${firstWords} <span class=\"accent-books\">${lastWord}</span>`;\n}\n\nfunction addListenerToCards() {\n  bestBooksContainer.addEventListener('click', function (event) {\n    if (event.target.classList.contains('best-book-img')) {\n      onClickGalleryImg(event);\n    }\n  });\n}\n","import { getCategoriesBooks } from './API';\nimport { getBooksByCategory } from './API';\nimport { renderBestBooks } from './best-sellers';\nimport { onClickGalleryImg } from './modal-window';\nconst listCategories = document.querySelector('.list-categories');\n\n//Відмалювали категорії\n\nasync function categoriesData() {\n  try {\n    const result = await getCategoriesBooks();\n    const sorted = result.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n    const list = categoriesTemplate(sorted);\n    listCategories.insertAdjacentHTML('beforeend', list);\n  } catch (error) {\n    console.error('Error fetching categories:', error);\n  }\n}\n\nfunction categoryTemplate({ list_name }) {\n  const markup = `\n     <li class=\"item-categories\">${list_name}</li>\n    `;\n  return markup;\n}\n\nfunction categoriesTemplate(res) {\n  const markup = res.map(categoryTemplate).join('');\n  return markup;\n}\ncategoriesData();\n\n//Виділяємо обрану категорію і робимо розмімтку для неї\n\nconst bestBooksContainer = document.querySelector('.best-books-container');\nconst firstItemCategory = document.querySelector('.item-categories');\nfirstItemCategory.classList.add('active');\n\nlistCategories.addEventListener('click', event => {\n  bestBooksContainer.innerHTML = '';\n  bestBooksContainer.insertAdjacentHTML(\n    'afterbegin',\n    `\n    <h2 class=\"selected-category-title\"> <span class=\"selected-category-accent\"></span></h2>\n    <ul class=\"book-list-category\"></ul>`\n  );\n\n  const bookListCategory = document.querySelector('.book-list-category');\n  bookListCategory.addEventListener('click', onClickGalleryImg);\n\n  if (event.target && event.target.matches('li.item-categories')) {\n    let category = event.target.textContent;\n    if (category === 'All Categories') {\n      renderBestBooks();\n      const allCategoriesItems = document.querySelectorAll('.item-categories');\n      allCategoriesItems.forEach(category => {\n        category.classList.remove('active');\n      });\n      event.target.classList.add('active');\n      return;\n    }\n\n    displayBooks(category);\n\n    if (window.innerWidth < 768) {\n      window.scrollTo({ top: 1000, behavior: 'smooth' });\n    }\n\n    const allCategoriesItems = document.querySelectorAll('.item-categories');\n    allCategoriesItems.forEach(category => {\n      category.classList.remove('active');\n    });\n    event.target.classList.add('active');\n  }\n});\n\nasync function displayBooks(category) {\n  const bookListCategory = document.querySelector('.book-list-category');\n  bookListCategory.innerHTML = '';\n\n  const books = await getBooksByCategory(category);\n  const booksMarkup = books\n    .map(book => {\n      return ` <li class=\"selected-item-category\">\n    <div class=\"overlay-container\"> \n    <img src=\"${book.book_image}\" alt=\"${book.title}\" data-id=\"${\n        book._id\n      }\" class=\"selected-category-img-mob\"/>\n    <p class=\"overlay\">Quick view</p>\n    </div>\n    <h3 class=\"category-title\">${sliceTitle(16, book.title)}</h3>\n    <p class=\"selected-category-text\">${book.author}</p>\n    </li>\n    `;\n    })\n    .join('');\n  bookListCategory.insertAdjacentHTML('afterbegin', booksMarkup);\n\n  const categorySplit = category.split(' ');\n  const lastWord = categorySplit[categorySplit.length - 1];\n  const titleAccentCategory = document.querySelector(\n    '.selected-category-accent'\n  );\n  titleAccentCategory.textContent = lastWord;\n  const titleCategory = document.querySelector('.selected-category-title');\n  const withoutLastWord = categorySplit.slice(0, -1);\n  const firstWords = withoutLastWord.join(' ');\n  titleCategory.insertAdjacentHTML('afterbegin', firstWords);\n}\n\nfunction sliceTitle(length, title) {\n  if (title.length > length) {\n    return title.slice(0, length) + '...';\n  } else {\n    return title;\n  }\n}\n"],"names":["axios","getCategoriesBooks","getTopBooks","getBooksByCategory","category","getBookById","bookId","noble","booksMillion","bookshop","indie","localeStorageKey","addedBooks","loadFromLs","onClickGalleryImg","event","id","data","createModalWindow","addBtn","refreshLS","book","e","indexToRemove","removeCongratulation","addCongratulation","key","book_image","title","author","description","buy_links","instance","basicLightbox.create","closeBtn","linkContainers","searchBookShops","pressEscapeKey","link","itemShop","linkShop","imgShop","fileNameWithoutExtension","amazon","apple","modalElem","congratulation","bestBooksContainer","renderBestBooks","addListenerToCards","bestBooksList","result","markup","createBooksCard","btn","handleSeeMore","error","bookItem","createBookCard","_id","sliceTitle","length","books","targetTitle","changeColor","markupBooks","elemList","item","name","splitName","lastWord","listCategories","categoriesData","sorted","a","b","list","categoriesTemplate","categoryTemplate","list_name","res","firstItemCategory","displayBooks","bookListCategory","booksMarkup","categorySplit","titleAccentCategory","titleCategory","firstWords"],"mappings":"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"}