{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/API.js","../src/js/best-sellers.js","../src/js/categories.js"],"sourcesContent":["const refs = { \ncloseMenuElem : document.querySelector('.btn-close-menu'),\nopenMenuElem : document.querySelector('.btn-open-menu'),\nmodalMenuElem : document.querySelector('.mob-menu'),\n};\n\nrefs.closeMenuElem.addEventListener('click', ()=>{\n  refs.modalMenuElem.classList.remove('is-visible');\n})\n\nrefs.openMenuElem.addEventListener( 'click', ()=>{\n    refs.modalMenuElem.classList.add('is-visible');\n})\n\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://books-backend.p.goit.global/books';\n\nexport async  function getCategoriesBooks(){\n    const res = await axios.get('/category-list');\n    return res.data;\n}\n\nexport async function getTopBooks(){\n    const res = await axios.get('/top-books');\n    return res.data;\n}\n\nexport async function getBooksByCategory (category){\n    const res = await axios.get(`/category?category=${selectedCategory}`);\n    return res.data;\n}\n\nexport async function getBookById(bookId){\n    const res = await axios.get(`/${bookId}`);\n    return res.data;\n}\n\n \n ","import {getTopBooks} from './API'\n\nconst bestBooksContainer = document.querySelector('.best-books-container');\n\nrenderBestBooks();\n\nexport async function renderBestBooks(){\n    bestBooksContainer.insertAdjacentHTML('afterbegin', `\n    <h1 class=\"best-sellers-title\">Best Sellers <span class=\"accent-books\">Books</span></h1>\n    <ul class=\"best-sellers-books\"></ul>\n    `);\n    const bestBooksList = document.querySelector('.best-sellers-books');\n        const result = await getTopBooks();\n        result.map(book => {\n            const markup = createBooksCard(book);\n            bestBooksList.insertAdjacentHTML('beforeend', markup);\n        })\n}\n\nfunction createBooksCard (category){\n    const bookItem = category.books.map(book => createBookCard(book)).join('');\n    return `<li class=\"best-category\">\n    <p class=\"best-category-name\">${category.list_name}</p>\n    <ul class=\"best-book-list\">${bookItem}</ul>\n    <button type=\"button\" class=\"btn-see-more\">See more</button>\n    </li>`\n}\n\n\n\nfunction createBookCard ({book_image, title, _id, author}){\n    return ` <li class=\"best-book-item\">\n    <img src=\"${book_image}\" alt=\"${title}\" data-id=\"${_id}\" class=\"best-book-img\" width=\"375\" height=\"485\"/>\n    <h2 class=\"best-book-title\">${sliceTitle(16, title)}</h2>\n    <p class=\"best-book-author\">${author}</p>\n    </li>\n    `\n}\n\nfunction sliceTitle(length, title){\n    if(title.length> length){\n       return title.slice(0, length) + '...';\n    } else {\n        return title;\n    }\n}\n\n ","import {getCategoriesBooks} from './API';\nimport {renderBestBooks} from './best-sellers'\nconst listCategories = document.querySelector('.list-categories');\n\n//Відмалювали категорії\n\nasync function categoriesData (){\n    try{\n    const result = await getCategoriesBooks();\n    const sorted = result.sort((a,b)=>a.list_name.localeCompare(b.list_name));\n    const list = categoriesTemplate(sorted);\n    listCategories.insertAdjacentHTML('beforeend', list);\n    } catch(error){\n        console.error('Error fetching categories:', error);\n    }\n}\n \n\nfunction categoryTemplate ({list_name}){\n    const markup = `\n     <li class=\"item-categories\">${list_name}</li>\n    `\n    return markup;\n}\n\n \n   function categoriesTemplate (res){\n   const markup =  res.map(categoryTemplate).join('');\n   return markup;\n}\n categoriesData()\n\n\n\n const bestBooksContainer = document.querySelector('.best-books-container');\n const firstItemCategory = document.querySelector('.item-categories');\n firstItemCategory.classList.add('active');\n\n\n \n listCategories.addEventListener('click', event => {\n    bestBooksContainer.innerHTML = '';\n    bestBooksContainer.insertAdjacentHTML('afterbegin', `\n    <h2 class=\"selected-category-title\"><span class=\"selected-category-accent\"></span></h2>\n    <ul class=\"book-list-category\"></ul>`);\n\n\n  if(event.target && event.target.matches('li.item-categories')){\n    let category = event.target.textContent;\n   const allCategoriesItems = document.querySelectorAll('.item-categories');\n   allCategoriesItems.forEach(category =>{\n    category.classList.remove('active')\n   });\n   event.target.classList.add('active');\n    if(category === 'All categories'){\n        renderBestBooks();\n        return;\n    }\n    // displayBooks(category);\n  }\n   \n });\n\n \n\n \n    \n "],"names":["refs","axios","getCategoriesBooks","getTopBooks","bestBooksContainer","renderBestBooks","bestBooksList","book","markup","createBooksCard","category","bookItem","createBookCard","book_image","title","_id","author","sliceTitle","length","listCategories","categoriesData","sorted","a","b","list","categoriesTemplate","error","categoryTemplate","list_name","res","firstItemCategory","event"],"mappings":"svBAAA,MAAMA,EAAO,CACb,cAAgB,SAAS,cAAc,iBAAiB,EACxD,aAAe,SAAS,cAAc,gBAAgB,EACtD,cAAgB,SAAS,cAAc,WAAW,CAClD,EAEAA,EAAK,cAAc,iBAAiB,QAAS,IAAI,CAC/CA,EAAK,cAAc,UAAU,OAAO,YAAY,CAClD,CAAC,EAEDA,EAAK,aAAa,iBAAkB,QAAS,IAAI,CAC7CA,EAAK,cAAc,UAAU,IAAI,YAAY,CACjD,CAAC,ECVDC,EAAM,SAAS,QAAU,4CAElB,eAAgBC,GAAoB,CAEvC,OADY,MAAMD,EAAM,IAAI,gBAAgB,GACjC,IACf,CAEO,eAAeE,GAAa,CAE/B,OADY,MAAMF,EAAM,IAAI,YAAY,GAC7B,IACf,CCVA,MAAMG,EAAqB,SAAS,cAAc,uBAAuB,EAEzEC,IAEO,eAAeA,GAAiB,CACnCD,EAAmB,mBAAmB,aAAc;AAAA;AAAA;AAAA,KAGnD,EACD,MAAME,EAAgB,SAAS,cAAc,qBAAqB,GAC/C,MAAMH,KACd,IAAII,GAAQ,CACf,MAAMC,EAASC,EAAgBF,CAAI,EACnCD,EAAc,mBAAmB,YAAaE,CAAM,CAChE,CAAS,CACT,CAEA,SAASC,EAAiBC,EAAS,CAC/B,MAAMC,EAAWD,EAAS,MAAM,IAAIH,GAAQK,EAAeL,CAAI,CAAC,EAAE,KAAK,EAAE,EACzE,MAAO;AAAA,oCACyBG,EAAS,SAAS;AAAA,iCACrBC,CAAQ;AAAA;AAAA,UAGzC,CAIA,SAASC,EAAgB,CAAC,WAAAC,EAAY,MAAAC,EAAO,IAAAC,EAAK,OAAAC,CAAM,EAAE,CACtD,MAAO;AAAA,gBACKH,CAAU,UAAUC,CAAK,cAAcC,CAAG;AAAA,kCACxBE,EAAW,GAAIH,CAAK,CAAC;AAAA,kCACrBE,CAAM;AAAA;AAAA,KAGxC,CAEA,SAASC,EAAWC,EAAQJ,EAAM,CAC9B,OAAGA,EAAM,OAAQI,EACPJ,EAAM,MAAM,EAAGI,CAAM,EAAI,MAExBJ,CAEf,CC3CA,MAAMK,EAAiB,SAAS,cAAc,kBAAkB,EAIhE,eAAeC,GAAiB,CAC5B,GAAG,CAEH,MAAMC,GADS,MAAMnB,KACC,KAAK,CAACoB,EAAEC,IAAID,EAAE,UAAU,cAAcC,EAAE,SAAS,CAAC,EAClEC,EAAOC,EAAmBJ,CAAM,EACtCF,EAAe,mBAAmB,YAAaK,CAAI,CAClD,OAAOE,EAAM,CACV,QAAQ,MAAM,6BAA8BA,CAAK,CACpD,CACL,CAGA,SAASC,EAAkB,CAAC,UAAAC,CAAS,EAAE,CAInC,MAHe;AAAA,mCACgBA,CAAS;AAAA,KAG5C,CAGG,SAASH,EAAoBI,EAAI,CAEjC,OADgBA,EAAI,IAAIF,CAAgB,EAAE,KAAK,EAAE,CAEpD,CACCP,EAAgB,EAIhB,MAAMhB,EAAqB,SAAS,cAAc,uBAAuB,EACnE0B,EAAoB,SAAS,cAAc,kBAAkB,EACnEA,EAAkB,UAAU,IAAI,QAAQ,EAIxCX,EAAe,iBAAiB,QAASY,GAAS,CAOjD,GANE3B,EAAmB,UAAY,GAC/BA,EAAmB,mBAAmB,aAAc;AAAA;AAAA,yCAEf,EAGpC2B,EAAM,QAAUA,EAAM,OAAO,QAAQ,oBAAoB,EAAE,CAC5D,IAAIrB,EAAWqB,EAAM,OAAO,YAM5B,GAL0B,SAAS,iBAAiB,kBAAkB,EACpD,QAAQrB,GAAW,CACrCA,EAAS,UAAU,OAAO,QAAQ,CACtC,CAAI,EACDqB,EAAM,OAAO,UAAU,IAAI,QAAQ,EAC/BrB,IAAa,iBAAiB,CAC7BL,IACA,MACH,CAEF,CAEH,CAAE"}